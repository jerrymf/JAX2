(function(){if(!window.getComputedStyle){var a=function(a){var b="";a.filter.replace(/alpha\(opacity=['"]?([0-9]+)['"]?\)/i,function(a,c){b=c});return b?parseFloat(b)/100+"":b},b=function(a){return a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()})},c=function(a){return a.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()})},d=function(a,b,c,d){switch(b){case "em":return a*d;case "in":return 96*a;case "pt":return 96*a/72;case "pc":return 1152*a/72;case "cm":return 37.7952*a;case "mm":return 37.7952*
a/10;case "%":return a/100*c;default:return a}},e=function(b){var e=b.currentStyle,g;g=b;do{var k=g.currentStyle.fontSize,m=k.split(/\d/)[0],n=/%|em/.test(m);g=g.parentNode}while(n&&g&&11!=g.nodeType);n&&(!g||11==g.nodeType)?g=16:(g=parseFloat(k),g=d(g,m));var m=0,k=/margin.|padding.|border.+W|^fontSize$/,n=["absolute","relative","fixed"],u=["left","right","top","bottom"];for(l in e){this[m]=c(l);var q=e[l];if(k.test(l)&&"auto"!=q){var s=l,t,p=b,r=l;t=g;var w=e[r],x=parseFloat(w),w=w.split(/\d/)[0];
if("fontSize"==r)p=t;else if(p.parentElement!=p.ownerDocument){var r=p.parentElement,v=p.ownerDocument.createElement("jaxtempxyz");v.style.display="block";r.appendChild(v);p=v.offsetWidth;r.removeChild(v)}else p=p.parentElement.documentElement.clientWidth;t=d(x,w,p,t)||0;this[s]=t+"px"}else if("styleFloat"==l)this["float"]=q;else if(-1<u.indexOf(l)&&-1<n.indexOf(e.position)&&"auto"!=q){s=l;r=b;p=l;t=g;w=e[p];x=parseFloat(w);w=w.split(/\d/)[0];v=0;a:{p="left"==p||"right"==p?"clientWidth":"clientHeight";
for(v=["absolute","relative","fixed"];r.parentElement&&r.parentElement.currentStyle;)if(r=r.parentElement,-1!=v.indexOf(r.currentStyle.position||"")){v=r[p];break a}v=r.ownerDocument.documentElement[p]}t=d(x,w,v,t);this[s]=t+"px"}else this[l]=q;m++}for(g=["height","width"];g.length;){var l=g.pop(),n=q.toLowerCase(),n=(k="auto"!=q)&&-1<n.indexOf("px");if(!k||n)this[l]=q;else{k=l;n=this.boxSizing;x=t=s=u=0;w="padding"+("width"==l?"Left":"Top");p="padding"+("width"==l?"Right":"Bottom");r="border"+("width"==
l?"LeftWidth":"Top");v="border"+("width"==l?"RightWidth":"Bottom");l="height"==l?b.offsetHeight:b.offsetWidth;if(!n||"content-box"==n)u=parseFloat(this[w]),s=parseFloat(this[p]);"border-box"!=n&&(t=parseFloat(this[r]),x=parseFloat(this[v]));u&&isFinite(u)&&(l-=u);s&&isFinite(s)&&(l-=s);t&&isFinite(t)&&(l-=t);x&&isFinite(x)&&(l-=x);this[k]=l+"px"}}this.opacity=a(e);this.length=m};e.prototype.getPropertyPriority=function(){throw Error("NotSupportedError: DOM Exception 9");};e.prototype.getPropertyValue=
function(a){return this[b(a)]||""};e.prototype.item=function(a){return this[a]};e.prototype.removeProperty=function(){throw Error("NoModificationAllowedError: DOM Exception 7");};e.prototype.setProperty=function(){throw Error("NoModificationAllowedError: DOM Exception 7");};e.prototype.getPropertyCSSValue=function(){throw Error("NotSupportedError: DOM Exception 9");};window.getComputedStyle=function(a,b){if(b)throw Error("Optional argument pseudoElt is not allowed in getComputedStyle polyfill.");
return new e(a)}}})();
(function(){"firstElementChild"in document.createElement("div")||Object.defineProperty(Element.prototype,"firstElementChild",{get:function(){for(var a=this.firstChild;a;){if(1==a.nodeType)return a;a=a.nextSibling}return null}});"lastElementChild"in document.createElement("div")||Object.defineProperty(Element.prototype,"lastElementChild",{get:function(){for(var a=this.lastChild;a;){if(1==a.nodeType)return a;a=a.previousSibling}return null}});"nextElementSibling"in document.createElement("div")||Object.defineProperty(Element.prototype,
"nextElementSibling",{get:function(){for(var a=this.nextSibling;a;){if(1==a.nodeType)return a;a=a.nextSibling}return null}});"previousElementSibling"in document.createElement("div")||Object.defineProperty(Element.prototype,"previousElementSibling",{get:function(){for(var a=this.previousSibling;a;){if(1==a.nodeType)return a;a=a.previousSibling}return null}})})();
var JAX=function(a,b){if(!a)return new JAX.NullNode;if(a instanceof JAX.Node)return a;var c=JAX.NULL,d=null;if("string"==typeof a){b=b||document;if(b!=document){d=JAX(b);if(!d.n)return console.error("JAX: Second argument must be valid element."),new JAX.NullNode("string"==typeof a?a:"");b=d.n}c=(d=b.querySelector(a))?d.nodeType:c}else if("object"==typeof a){var e=a.ownerDocument||a,e=e.defaultView||e.parentWindow||{};if((e.Window&&("function"==typeof e.Window&&e instanceof e.Window||"object"==typeof e.Window&&
e.Window==e)||-1<e.constructor.toString().indexOf("DOMWindow"))&&a.nodeType)c=a.nodeType,d=a;else if(a.nodeType){var e=window.Element||window.HTMLElement,f=window.Text,h=window.Document||window.HTMLDocument,g=window.DocumentFragment;if(e&&a instanceof e||f&&a instanceof f||h&&a instanceof h||g&&a instanceof g)c=a.nodeType,d=a}else if(a==window||a.Window&&a instanceof a.Window||-1<a.constructor.toString().indexOf("DOMWindow"))c=JAX.WINDOW,d=a}switch(c){case JAX.HTML_ELEMENT:return new JAX.Element(d);
case JAX.DOCUMENT:return new JAX.Document(d);case JAX.WINDOW:return new JAX.Window(d);case JAX.DOCUMENT_FRAGMENT:return new JAX.DocumentFragment(d);case JAX.TEXT:case JAX.COMMENT:return new JAX.TextNode(d);default:return new JAX.NullNode("string"==typeof a?a:"")}};JAX.WINDOW=-2;JAX.NULL=-1;JAX.HTML_ELEMENT=1;JAX.TEXT=3;JAX.COMMENT=8;JAX.DOCUMENT=9;JAX.DOCUMENT_FRAGMENT=11;
JAX.all=function(a,b){if(!a)return JAX.NodeArray([]);if("string"==typeof a){b=b||document;if(b!=document){var c=b instanceof JAX.Node?b:JAX(b);if(!c.n)return console.error("JAX.all: Second argument must be valid element."),new JAX.NullNode;b=c.n}c=b.querySelectorAll(a);return new JAX.NodeArray(c)}return a instanceof Array||(window.NodeList&&a instanceof window.NodeList||a instanceof JAX.NodeArray)||a.length&&a[0]&&a[a.length-1]?new JAX.NodeArray(a):a instanceof JAX.Node||"object"==typeof a&&JAX(a).n?
new JAX.NodeArray([a]):new JAX.NodeArray([])};
JAX.make=function(a,b,c,d){b=b||{};c=c||{};d=d||document;if(!a||"string"!=typeof a)return console.error("JAX.make: First argument must be string."),JAX(null);"object"!=typeof b&&(console.error("JAX.make: Second argument must be associative array."),b={});"object"!=typeof c&&(console.error("JAX.make: Third argument must be associative array."),c={});if("object"!=typeof d||!d.nodeType&&-1==[9,11].indexOf(d.nodeType))console.error("JAX.make: Fourth argument must be document element."),d=document;a=a.match(/[#.]?[a-z0-9_-]+/ig)||
[];var e=a[0];if(!e||!/^[a-z0-9]+$/i.test(e))return console.error("JAX.make: Tagname must be first in element definition."),JAX(null);for(var f=0,h=a.length;f<h;f++){var g=a[f],k=g.charAt(0);"#"==k?b.id=g.substring(1):"."==k&&(b.className?(b.className+=" ",b.className+=g.substring(1)):b.className=g.substring(1))}d=d.createElement(e);for(var m in b)d[m]=b[m];for(m in c)d.style[m]=c[m];return new JAX.Element(d)};JAX.makeFromHTML=function(a){return!a?new JAX.NodeArray([]):JAX.make("div").html(a).children()};
JAX.makeText=function(a,b){return new JAX.TextNode((b||document).createTextNode(a))};JAX.getTypeOf=function(a){if("number"==typeof a)return"number";if("string"==typeof a)return"string";if("undefined"==typeof a)return"undefined";if("function"==typeof a)return"function";if(!0===a||!1===a)return"boolean";if(null===a)return"null";a=Object.prototype.toString.call(a);return"[object Array]"==a?"array":"[object Date]"==a?"date":"object"};
JAX.extend=function(a,b){a.prototype=Object.create(b.prototype);for(var c in b.prototype)"object"==typeof b.prototype[c]&&(a.prototype[c]=JSON.parse(JSON.stringify(b.prototype[c])));a.prototype.constructor=a;a.prototype.__parent__=b};JAX.mixin=function(a,b){if(b instanceof Array)for(;b.length;)JAX.mixin(a,b.shift());else for(var c in b.prototype)a.prototype[c]="object"==typeof b.prototype[c]?JSON.parse(JSON.stringify(b.prototype[c])):b.prototype[c]};JAX.IIterable=function(){};
JAX.IIterable.prototype.exist=function(){return!!this.length};JAX.IIterable.prototype.item=function(a){return this[a||0]};JAX.IIterable.prototype.items=function(a,b){a=parseFloat(a);a=!isFinite(a)?0:a;b=parseFloat(b);b=!isFinite(b)?Math.max(this.length-1,0):b;for(var c=[],d=a;d<=b;d++){var e=this[d];e&&c.push(e)}return c};JAX.IIterable.prototype.firstItem=function(){return this[0]};JAX.IIterable.prototype.lastItem=function(){return this[this.length-1]};
JAX.IIterable.prototype.pushItem=function(a){this.length++;this[this.length-1]=a;return this};JAX.IIterable.prototype.popItem=function(){if(0<this.length){var a=this[this.length-1];delete this[this.length-1];this.length--;return a}return null};JAX.IIterable.prototype.shiftItem=function(){var a=this[0];if(a){this.length--;for(var b=0;b<this.length;b++)this[b]=this[b+1];return a}return null};
JAX.IIterable.prototype.unshiftItem=function(a){this.length++;for(var b=this.length-1;0<b;b--)this[b]=this[b-1];this[0]=a;return this};JAX.IIterable.prototype.index=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1};JAX.IIterable.prototype.forEachItem=function(a,b){a=b?a.bind(b):a;for(var c=0;c<this.length;c++)a(this[c],c,this);return this};
JAX.IIterable.prototype.filterItems=function(a,b){a=b?a.bind(b):a;for(var c=[],d=0;d<this.length;d++)a(this[d],d,this)&&c.push(this[d]);return JAX.all(c)};JAX.Async=function(){this._pending=this._canceled=this._running=!1;this._waitings=[];this._currentPromise=null;this._promises=[]};
JAX.Async.prototype.waitFor=function(a){if(this._canceled)return this;if(!a||!("function"==typeof a||a instanceof JAK.Promise||a instanceof JAX.FX||a instanceof JAX.Async))return console.error("JAX.Async: Sorry, but I got unsupported item: "+typeof a+". I expected function, instance of JAK.Promise or instance of JAX.FX."),this;this._waitings.push({waiting:a,thenActions:[]});this._running&&!this._pending&&this._processWaiting();return this};
JAX.Async.prototype.after=function(a,b){if(this._canceled)return this;var c=function(b){if(!this._canceled&&"function"==typeof a)return a(b)}.bind(this),d=function(a){if(!this._canceled&&"function"==typeof b)return b(a)}.bind(this),c={onFulfill:c,onReject:d};(d=this._waitings.length)?this._waitings[d-1].thenActions.push(c):this._currentPromise&&this._processThenActions([c]);return this};
JAX.Async.prototype.run=function(){if(this._running||this._canceled)return this;this._pending=this._canceled=!1;this._running=!0;this._processWaiting();return this};JAX.Async.prototype.cancel=function(){this._canceled=!0;return this};JAX.Async.prototype.isRunning=function(){return this._running};JAX.Async.prototype.isCanceled=function(){return this._canceled};JAX.Async.prototype.isPending=function(){return this._pending};
JAX.Async.prototype._processWaiting=function(){this._pending=!1;var a=this._waitings.shift();if(a){var b=a.waiting,b="function"==typeof b?b():b;!(b instanceof JAK.Promise)&&!(b instanceof JAX.FX)&&!(b instanceof JAX.Async)?console.error("JAX.Async: when I tried to process next waiting Promise, I got unsupported stuff",b):(this._currentPromise=b,this._promises.push(b),this._processThenActions(a.thenActions),this._pending=!0)}};
JAX.Async.prototype._processThenActions=function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b];this._addAfterAction(d.onFulfill,d.onReject)}a=function(){this._canceled?this._clear():this._processWaiting()}.bind(this);this._addAfterAction(a,a)};JAX.Async.prototype._clear=function(){this._waitings=[];this._currentPromise=null;this._promises=[];this._pending=this._running=!1};
JAX.Async.prototype._addAfterAction=function(a,b){this._currentPromise instanceof JAX.Async?this._currentPromise.after(a,b):this._currentPromise.then(a,b)};JAX.IListening=function(){};JAX.IListening._listeners={};
JAX.IListening.prototype.listen=function(a,b,c,d){var e=null;"string"!=typeof a&&(console.error("JAX.IListening.listen: The first argument must be string describing event name. I got "+typeof a),a="");b||(console.error("JAX.IListening.listen: The second argument must be object or function. I got "+typeof b),e=function(){});"function"==typeof b||"object"==typeof b&&!c?e=b:"object"==typeof b&&"string"==typeof c?(e=b[c])?e=e.bind(b):console.error("JAX.IListening.listen: The third argument must be function or string with function name placed in object of second argument. I got "+
c):"object"==typeof b&&"function"==typeof c?e=c.bind(b):(console.error("JAX.IListening.listen: The second argument must be object or function. I got "+typeof b),e=function(){});b="function"==typeof e?function(a){e(new JAX.Event(a))}:{handleEvent:function(a){e.handleEvent(new JAX.Event(a))}};this._node.addEventListener(a,b,d);d=new JAX.Listener(this,a,b);JAX.IListening._listeners[a]||(JAX.IListening._listeners[a]=[]);JAX.IListening._listeners[a].push(d);return d};
JAX.IListening.prototype.stopListening=function(a){!a&&arguments.length&&console.error("JAX.IListening.stopListening: Argument must be string with event type or instance of JAX.Listener.");if(!arguments.length){for(var b in JAX.IListening._listeners)this.stopListening(b);return this}if("string"==typeof a){var c=a,d=JAX.IListening._listeners[c]||[],e=[];b=0;for(var f=d.length;b<f;b++){var h=d[b];h.jaxElm().n==this._node&&(this._node.removeEventListener(c,h.method()),e.push(b))}b=0;for(f=e.length;b<
f;b++)c=e[b],d.splice(c,1);return this}if(a instanceof JAX.Listener&&a.method())return c=a.type(),this._node.removeEventListener(c,a.method()),d=JAX.IListening._listeners[c]||[],c=d.indexOf(a),-1<c?d.splice(c,1):console.warn("JAX.IListening.stopListening: I did not find given listener object in my storage. You probably called new JAX.Listener in your code and that's not good practice. Use listen and stopListening method all the time."),this;console.error("JAX.IListening.stopListening: For the first argument I expected instance of JAX.Listener, string with event type or you can call it without arguments to stop all events listening.");
return this};JAX.Event=function(a){this._e=a};JAX.Event.prototype.event=function(){return this._e};JAX.Event.prototype.prevent=function(){this._e.preventDefault();return this};JAX.Event.prototype.stop=function(){this._e.stopPropagation();return this};JAX.Event.prototype.target=function(){return JAX(this._e.target)};JAX.Event.prototype.currentTarget=function(){return JAX(this._e.currentTarget)};JAX.Event.prototype.type=function(){return this._e.type};
JAX.Listener=function(a,b,c){this._jaxElm=a;this._type=b;this._method=c};JAX.Listener.prototype.unregister=function(){if(this._method)return this._jaxElm.stopListening(this),this._method=null,this};JAX.Listener.prototype.jaxElm=function(){return this._jaxElm};JAX.Listener.prototype.method=function(){return this._method};JAX.Listener.prototype.type=function(){return this._type};JAX.ListenerArray=function(a){this.length=a.length;for(var b=0;b<this.length;b++)this[b]=a[b]};
JAX.mixin(JAX.ListenerArray,JAX.IIterable);JAX.ListenerArray.prototype.unregister=function(){for(var a=null;a=this.popItem();)a.unregister();return this};JAX.IMoveableNode=function(){};JAX.IMoveableNode.prototype.appendTo=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n)return a.n.appendChild(this._node),this;console.error("JAX.IMoveableNode.append: I could not find given element. For first argument I expected html element, documentFragment or JAX node.");return this};
JAX.IMoveableNode.prototype.before=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n)return a=a.n,a.parentNode.insertBefore(this._node,a),this;console.error("JAX.IMoveableNode.before: I could not find given element. For first argument I expected html element, text node or JAX node.");return this};
JAX.IMoveableNode.prototype.after=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n)return a=a.n,a.nextSibling?a.parentNode.insertBefore(this._node,a.nextSibling):a.parentNode.appendChild(this._node),this;console.error("JAX.IMoveableNode.after: I could not find given element. For first argument I expected html element, text node or JAX node.");return this};
JAX.IMoveableNode.prototype.insertFirstTo=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n)return a=a.n,a.childNodes&&a.firstChild?a.insertBefore(this._node,a.firstChild):a.childNodes?a.appendChild(this._node):console.error("JAX.IMoveableNode.insertFirstTo: Given element can not have child nodes.",this._node),this;console.error("JAX.IMoveableNode.insertFirstTo: I could not find given element. For first argument I expected html element or JAX node.");return this};
JAX.IMoveableNode.prototype.replaceWith=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n)return a=a.n,a.parentNode.replaceChild(this._node,a),this;console.error("JAX.IMoveableNode.replaceWith: For first argument I expected html element, text node or JAX node.");return this};
JAX.IMoveableNode.prototype.swapPlaceWith=function(a){a=a instanceof JAX.Node?a:JAX(a);if(a.n){var b=a.n,c=b.nextSibling,d=b.parentNode,e=this._node.parentNode,f=this._node.nextSibling;this.remove();a.remove();e&&(f?e.insertBefore(b,f):e.appendChild(b));d&&(c?d.insertBefore(this._node,c):d.appendChild(this._node));return this}console.error("JAX.IMoveableNode.swapPlaceWith: For first argument I expected html element, text node or JAX node.");return this};
JAX.IMoveableNode.prototype.remove=function(){if(this._node.parentNode&&11!=this._node.parentNode.nodeType)return this._node.parentNode.removeChild(this._node),this;console.error("JAX.IMoveableNode.remove: I can not remove node with no parentNode.");return this};JAX.IMoveableNode.prototype.clone=function(a){a=this._node.cloneNode(!!a);return new this.constructor(a)};
JAX.IMoveableNode.prototype.isIn=function(a){if(!a)return!1;if("string"==typeof a){if(/^[#.a-z0-9_-]+$/ig.test(a))try{return!!JAK.DOM.findParent(this._node,a)}catch(b){return!1}return!!JAX.all(a).filterItems(jaxElm.contains.bind(this,this)).length}a=a instanceof JAX.Node?a:JAX(a);return a.n&&a.contains(this)};
JAX.IMoveableNode.prototype.parent=function(a){if(a&&"string"==typeof a&&/^[#.a-z0-9_-]+$/ig.test(a))try{var b=JAK.DOM.findParent(this._node,a);return b?JAX(b):null}catch(c){return null}a=JAX(this._node.parentNode);return a.n?a:null};
JAX.IMoveableNode.prototype.next=function(a){if("number"==typeof a){for(var b=this._node.nextSibling;b;){if(b.nodeType==a)return JAX(b);b=b.nextSibling}return null}if("string"==typeof a){b=this._node.nextElementSibling;if(/^[#.a-z0-9_-]+$/ig.test(a))for(;b;){if(this._matches(b,a))return JAX(b);b=b.nextElementSibling}return null}return(b=this._node.nextSibling)?JAX(b):null};
JAX.IMoveableNode.prototype.previous=function(a){if("number"==typeof a){for(var b=this._node.previousSibling;b;){if(b.nodeType==a)return JAX(b);b=b.previousSibling}return null}if("string"==typeof a){b=this._node.previousElementSibling;if(/^[#.a-z0-9_-]+$/ig.test(a))for(;b;){if(this._matches(b,a))return JAX(b);b=b.previousElementSibling}return null}return(b=this._node.previousSibling)?JAX(b):null};
JAX.IMoveableNode.prototype._matches=function(a,b){for(var c=(b||"").match(/[#.]?[a-z0-9_-]+/ig)||[],d=!0,e=0;e<c.length;e++){var f=c[e];switch(f.charAt(0)){case "#":a.id!=f.substring(1)&&(d=!1);break;case ".":JAK.DOM.hasClass(a,f.substring(1))||(d=!1);break;default:a.nodeName.toLowerCase()!=f.toLowerCase()&&(d=!1)}}return d};JAX.INodeWithChildren=function(){};
JAX.INodeWithChildren.prototype.add=function(a){if(!this._node.childNodes)return console.error("JAX.INodeWithChildren.add: My element can not have children.",this._node),this;if("string"==typeof a){if(this._node.insertAdjacentHTML)return this._node.insertAdjacentHTML("beforeend",a),this;JAX.makeFromHTML(a).appendTo(this);return this}JAX.all(a).appendTo(this);return this};
JAX.INodeWithChildren.prototype.insertFirst=function(a){if(!this._node.childNodes)return console.error("JAX.INodeWithChildren.insertFirst: My element can not have children.",this._node),this;if("string"==typeof a&&this._node.insertAdjacentHTML)return this._node.insertAdjacentHTML("afterbegin",a),this;a="string"==typeof a?JAX.makeFromHTML(a):JAX.all(a);if(!a.length)return this;for(var b=0;b<a.length;b++){var c=a[b].n;this._node.firstChild?this._node.insertBefore(c,this._node.firstChild):this._node.appendChild(c)}return this};
JAX.INodeWithChildren.prototype.addBefore=function(a,b){if(!this._node.childNodes)return console.error("JAX.INodeWithChildren.addBefore: My element can not have children.",this._node),this;var c=a instanceof JAX.Node?a:JAX(a),d=b instanceof JAX.Node?b:JAX(b);if(!c.n)return console.error("JAX.INodeWithChildren.addBefore: For first argument I expected html element, text node, documentFragment or JAX.Node."),this;if(!d.n)return console.error("JAX.INodeWithChildren.addBefore: For second argument I expected html element, text node or JAX.Node."),
this;this._node.insertBefore(c.n,d.n);return this};JAX.INodeWithChildren.prototype.contains=function(a){if(!a)return!1;if("string"==typeof a)return!!this.find(a).n;a=JAX.all([].concat(a));if(!a.length)return!1;for(var b=0,c=a.length;b<c;b++){var d=a[b].n;if(!d||this._node.contains&&!this._node.contains(d)||!this._contains(d))return!1}return!0};
JAX.INodeWithChildren.prototype.children=function(a){if(!this._node.childNodes)return console.error("JAX.INodeWithChildren.children: My element can not have children.",this._node),new JAX.NodeArray([]);if(!arguments.length){for(var b=this._node.childNodes,c=b.length,d=Array(c),e=0;e<c;e++)d[e]=JAX(b[e]);return new JAX.NodeArray(d)}return(b=this._node.childNodes[a])?JAX(b):null};
JAX.INodeWithChildren.prototype.elements=function(a){if(!this._node.children&&!this._node.childNodes)return console.error("JAX.INodeWithChildren.elements: My element can not have any element.",this._node),new JAX.NodeArray([]);var b=this._node.children||this._node.childNodes,c=b.length;if(!arguments.length){for(var d=[],e=0;e<c;e++){var f=b[e];1==f.nodeType&&d.push(JAX(f))}return new JAX.NodeArray(d)}for(e=d=0;e<c;e++){f=b[e];if(d==a)return JAX(f);d++}return null};
JAX.INodeWithChildren.prototype.first=function(){return!this._node.childNodes?(console.error("JAX.INodeWithChildren.first: My element can not have children.",this._node),null):this._node.firstElementChild?JAX(this._node.firstElementChild):null};JAX.INodeWithChildren.prototype.last=function(){return!this._node.childNodes?(console.error("JAX.INodeWithChildren.last: My element can not have children.",this._node),null):this._node.lastElementChild?JAX(this._node.lastElementChild):null};
JAX.INodeWithChildren.prototype.clear=function(){if(!this._node.childNodes)return console.error("JAX.INodeWithChildren.clear: My element can not have children.",this._node),this;JAK.DOM.clear(this._node);return this};JAX.INodeWithChildren.prototype._contains=function(a){for(;a&&11!=a.nodeType&&9!=a.nodeType;){if(a==this._node)return!0;a=a.parentNode}return!1};JAX.ISearchableNode=function(){};JAX.ISearchableNode.prototype.find=function(a){return JAX(a,this._node)};
JAX.ISearchableNode.prototype.findAll=function(a){return JAX.all(a,this._node)};JAX.IAnimateableNode=function(){};JAX.IAnimateableNode.prototype.animate=function(a,b,c,d,e){"string"!=typeof a&&(type+="",console.error("For first argument I expected string.",this._node));var f=new JAX.FX(this);f.addProperty.apply(f,arguments);f.run();return f};
JAX.IAnimateableNode.prototype.fade=function(a,b,c){"string"!=typeof a&&(a+="",console.error("For first argument I expected string.",this._node));switch(a){case "in":return this.animate("opacity",b,0,1,c);case "out":return this.animate("opacity",b,1,0,c);default:return console.error("I got unsupported type '"+a+"'.",this._node),a=new JAX.FX(null),a.run(),a}};
JAX.IAnimateableNode.prototype.fadeTo=function(a,b,c){a=parseFloat(a)||0;0>a&&(a=0,console.error("For first argument I expected positive number, but I got negative. I set zero value.",this._node));return this.animate("opacity",b,null,a,c)};
JAX.IAnimateableNode.prototype.slide=function(a,b,c){"string"!=typeof a&&(a+="",console.error("For first argument I expected string.",this._node));var d=null;switch(a){case "down":d=this.css(["overflow","height"]);a="height";var e=0,f=null;break;case "up":d=this.css(["overflow"]);a="height";e=null;f=0;break;case "left":d=this.css(["overflow"]);a="width";e=null;f=0;break;case "right":d=this.css(["overflow","width"]);a="width";e=0;f=null;break;default:return console.error("I got unsupported type '"+
a+"'.",this._node),b=new JAX.FX(null),b.run(),b}b=this.animate(a,b,e,f,c);this.css("overflow","hidden");d&&(c=function(){this.css(d)}.bind(this),b.then(c));return b};JAX.IScrollableNode=function(){};
JAX.IScrollableNode.prototype.scroll=function(a,b,c){"string"!=typeof a&&(console.error("I expected String for my first argument.",this._node),a+="");var d=this._getScrollPos(),e=d.left,f=d.top;if(1==arguments.length){switch(a.toLowerCase()){case "top":e=f;break;case "left":break;default:console.error("You gave me an unsupported type. I expected 'top' or 'left'.",this._node),e=0}return e}d=parseFloat(b);isFinite(d)||console.error("I expected Number or string with number for my second argument.",this._node);
a=a.toLowerCase();if(!c){d={};switch(a){case "top":d.top=b;d.left=e;break;case "left":d.left=b,d.top=f}this._setScrollPos(d);return this}c=parseFloat(c);isFinite(c)||(console.error("I expected Number or String with number for my third argument.",this._node),c=1);e=new JAX.FX.Scrolling(this);e.addProperty(a,b,c);e.run();return e};
JAX.IScrollableNode.prototype._getScrollPos=function(){if(this.isWindow&&"pageXOffset"in this._node)var a=this._node.pageXOffset,b=this._node.pageYOffset;else this.isWindow||this.isDocument?(b=JAK.DOM.getScrollPos(),a=b.x,b=b.y):(a=this._node.scrollLeft,b=this._node.scrollTop);return{left:a,top:b}};
JAX.IScrollableNode.prototype._setScrollPos=function(a){this.isWindow?this._node.scrollTo(a.left,a.top):this.isDocument?("top"in a&&(this._node.documentElement.scrollTop=a.top),"left"in a&&(this._node.documentElement.scrollLeft=a.left)):("top"in a&&(this._node.scrollTop=a.top),"left"in a&&(this._node.scrollLeft=a.left))};
JAX.Node=function(a){this.jaxNodeType=(this.n=a)&&a.nodeType?a.nodeType:0;this.canHaveChildren=this.isScrollable=this.isListenable=this.isSearchable=this.isRemoveable=this.isMoveable=this.isDocumentFragment=this.isDocument=this.isText=this.isElement=this.isNull=this.isWindow=!1;this._node=a};
JAX.Node.prototype.$destructor=function(){this.n=null;this.jaxNodeType=0;this.isWindow=!1;this.isNull=!0;this.canHaveChildren=this.isScrollable=this.isListenable=this.isSearchable=this.isRemoveable=this.isMoveable=this.isDocumentFragment=this.isDocument=this.isText=this.isElement=!1;this._node=null};JAX.Node.prototype.node=function(){return this._node};JAX.Node.prototype.exists=function(){return!!this._node};
JAX.Node.prototype.prop=function(a,b){if(!a)return this;var c=arguments.length;if(1==c){if("string"==typeof a)return this._node[a];if("object"==typeof a){for(var d in a)this._node[d]=a[d];return this}if(a instanceof Array){for(var c={},e=0,f=a.length;e<f;e++)d=a[e],c[d]=this._node[d];return c}}if(2==c){if("string"==typeof a)return this._node[a]=b,this;if(a instanceof Array){e=0;for(f=a.length;e<f;e++)this._node[a[e]]=b;return this}}console.error("JAX.MoveableNode.prop: Unsupported arguments: ",arguments);
return this};JAX.Element=function(a){this.__parent__.call(this,a);this.canHaveChildren=this.isRemoveable=this.isMoveable=this.isScrollable=this.isListenable=this.isSearchable=this.isElement=!0};JAX.extend(JAX.Element,JAX.Node);JAX.mixin(JAX.Element,[JAX.IListening,JAX.INodeWithChildren,JAX.IMoveableNode,JAX.ISearchableNode,JAX.IAnimateableNode,JAX.IScrollableNode]);JAX.Element._OPACITY_REGEXP=/alpha\(opacity=['"]?([0-9]+)['"]?\)/i;JAX.Element._BOX_SIZING=null;
(function(){var a={boxSizing:"box-sizing",MozBoxSizing:"-moz-box-sizing",webkitBoxSizing:"-webkit-box-sizing"},b=document.createElement("div"),c;for(c in a)if(c in b.style){JAX.Element._BOX_SIZING=a[c];break}})();JAX.Element.prototype.addClass=function(a){if(""==a)return this;"string"!=typeof a&&(a+="",console.error("JAX.Element.addClass: Given argument can be only string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++){var d=a[b];d&&this._node.classList.add(d)}return this};
JAX.Element.prototype.removeClass=function(a){if(""==a)return this;"string"!=typeof a&&(a+="",console.error("JAX.Element.removeClass: Given argument can be only string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++){var d=a[b];d&&this._node.classList.remove(d)}return this};
JAX.Element.prototype.hasClass=function(a){if(""==a)return!0;"string"!=typeof a&&(a+="",console.error("JAX.Element.hasClass: For my argument I expected string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d&&!this._node.classList.contains(d))return!1}return!0};
JAX.Element.prototype.toggleClass=function(a){if(""==a)return this;"string"!=typeof a&&(a+="",console.error("JAX.Element.toggleClass: For my argument I expected string.",this._node));a=a.split(" ");for(var b=0,c=a.length;b<c;b++){var d=a[b];d&&this._node.classList.toggle(d)}return this};JAX.Element.prototype.id=function(a){if(!arguments.length)return this._node.id;"string"!=typeof a&&(a+="",console.error("JAX.Element.id: For my argument I expected string.",this._node));this._node.id=a;return this};
JAX.Element.prototype.html=function(a){if(!arguments.length)return this._node.innerHTML;"string"!=typeof a&&"number"!=typeof a&&console.error("JAX.Element.html: For my argument I expected string or number.",this._node);this._node.innerHTML=a+"";return this};
JAX.Element.prototype.text=function(a){a&&("string"!=typeof a&&"number"!=typeof a)&&console.error("JAX.Element.text: For my argument I expected string or number.",this._node);if(!arguments.length&&"innerHTML"in this._node)return this._getText(this._node);"innerHTML"in this._node&&(this.clear(),this._node.appendChild(this._node.ownerDocument.createTextNode(a+"")));return this};
JAX.Element.prototype.attr=function(a,b){if(!a)return this;var c=arguments.length;if(1==c){if("string"==typeof a)return this._node.getAttribute(a);if("object"==typeof a){for(var d in a)this._node.setAttribute(d,a[d]+"");return this}if(a instanceof Array){for(var c={},e=0,f=a.length;e<f;e++)d=a[e],c[d]=this._node.getAttribute(d);return c}}if(2==c&&(b||"string"==typeof b||"number"==typeof b)){if("string"==typeof a)return this._node.setAttribute(a,b+""),this;if(a instanceof Array){e=0;for(f=a.length;e<
f;e++)this._node.setAttribute(a[e],b+"");return this}}console.error("JAX.Element.attr: Unsupported arguments: ",arguments);return this};JAX.Element.prototype.removeAttr=function(a){if("string"==typeof a)return this._node.removeAttribute(a),this;if(property instanceof Array){for(var b=0,c=a.length;b<c;b++)this._node.removeAttribute(a[b]);return this}console.error("JAX.Element.removeAttr: For argument I expected string or array of strings.",this._node);return this};
JAX.Element.prototype.css=function(a,b){if(!a)return this;var c=arguments.length;if(1==c){if("string"==typeof a)return!a?"":"opacity"==a?this._getOpacity():this._node.style[a];if(a instanceof Array){for(var c={},d=0,e=a.length;d<e;d++){var f=a[d];c[f]="opacity"==f?this._getOpacity():this._node.style[f]}return c}if("object"==typeof a){for(f in a)b=a[f],"opacity"==f?this._setOpacity(b):this._node.style[f]=b;return this}}if(2==c&&(b||"string"==typeof b||"number"==typeof b)){if("string"==typeof a){if("opacity"==
a)return this._setOpacity(b),this;this._node.style[a]=b;return this}if(a instanceof Array){d=0;for(e=a.length;d<e;d++)f=a[d],"opacity"==f?this._setOpacity(b):this._node.style[f]=b;return this}}console.error("JAX.Element.css: Unsupported arguments: ",arguments);return this};
JAX.Element.prototype.computedCss=function(a){if(!a)return"";if("string"==typeof a){var b=this._node.ownerDocument.defaultView||this._node.ownerDocument.parentWindow,b=b.getComputedStyle||window.getComputedStyle;return b=b(this._node).getPropertyValue(a)}if(a instanceof Array){for(var c={},d=0,e=a.length;d<e;d++){var f=a[d],b=this._node.ownerDocument.defaultView||this._node.ownerDocument.parentWindow,b=b.getComputedStyle||window.getComputedStyle,b=b(this._node).getPropertyValue(f);c[f]=b}return c}return""};
JAX.Element.prototype.fullSize=function(a,b){if(1==arguments.length)return"width"==a?this._node.offsetWidth:this._node.offsetHeight;b=this._getSizeWithBoxSizing(a,b);this._node.style[a]=Math.max(b,0)+"px";return this};JAX.Element.prototype.size=function(a,b){if(1==arguments.length){var c=parseInt(this.computedCss(a),10);return isFinite(c)?c:c=this._getSizeWithBoxSizing(a)}b=parseInt(b,10);this._node.style[a]=Math.max(b,0)+"px";return this};
JAX.Element.prototype.clear=function(){this._node.firstChild&&JAK.DOM.clear(this._node);return this};JAX.Element.prototype.eq=function(a){return!a?!1:"string"==typeof a?/^[a-zA-Z0-9]+$/g.test(a)?!!(this._node.tagName&&this._node.tagName.toLowerCase()==a):!!this.parent().findAll(a).filterItems(jaxElm.eq.bind(this,this)).length:(a instanceof JAX.Node?a:JAX(a)).n==this._node};
JAX.Element.prototype._setOpacity=function(a){var b="",c="";"ie"==JAK.Browser.client&&9>JAK.Browser.version?(b="filter",""!=a&&(c=Math.round(100*a)+"",c="progid:DXImageTransform.Microsoft.Alpha(opacity="+c+");")):(c=a+"",b="opacity");this._node.style[b]=c};JAX.Element.prototype._getOpacity=function(){if("ie"==JAK.Browser.client&&9>JAK.Browser.version){var a="";this._node.style.filter.replace(JAX.ELEMENT._OPACITY_REGEXP,function(b,c){a=c});return a?parseFloat(a)/100+"":a}return this._node.style.opacity};
JAX.Element.prototype._getSizeWithBoxSizing=function(a,b){var c=JAX.Node._BOX_SIZING?this.computedCss(JAX.Node._BOX_SIZING):"",d=0,e=0,f=0,h=0,g="padding-"+("width"==a?"left":"top"),k="padding-"+("width"==a?"right":"bottom"),m="border-"+("width"==a?"left":"top"),n="border-"+("width"==a?"right":"bottom");1==arguments.length&&(b="width"==a?this._node.offsetWidth:this._node.offsetHeight);if(!c||"content-box"==c)d=parseFloat(this.computedCss(g)),e=parseFloat(this.computedCss(k));"border-box"!=c&&(f=parseFloat(this.computedCss(m)),
h=parseFloat(this.computedCss(n)));d&&isFinite(d)&&(b-=d);e&&isFinite(e)&&(b-=e);f&&isFinite(f)&&(b-=f);h&&isFinite(h)&&(b-=h);return b};JAX.Element.prototype._getText=function(a){for(var b="",c=0,d=a.childNodes.length;c<d;c++){var e=a.childNodes[c];e.tagName&&e.tagName.toLowerCase();b=e.childNodes&&e.childNodes.length?b+this._getText(e):e.nodeValue?b+e.nodeValue:b+" "}return b};JAX.TextNode=function(a){this.__parent__.call(this,a);this.isRemoveable=this.isMoveable=this.isText=!0};
JAX.extend(JAX.TextNode,JAX.Node);JAX.mixin(JAX.TextNode,JAX.IMoveableNode);JAX.TextNode.prototype.text=function(a){if(!arguments.length)return this._node.nodeValue;this._node.nodeValue=a;return this};JAX.TextNode.prototype.clear=function(){this._node.nodeValue="";return this};JAX.TextNode.prototype.eq=function(a){return!a?!1:(a instanceof JAX.Node?a:JAX(a)).n==this._node};JAX.Document=function(a){this.__parent__.call(this,a);this.isScrollable=this.isSearchable=this.isListenable=this.isDocument=!0};
JAX.extend(JAX.Document,JAX.Node);JAX.mixin(JAX.Document,[JAX.IListening,JAX.ISearchableNode,JAX.IScrollableNode]);JAX.Document.prototype.contains=function(a){if(!a)return!1;if("string"==typeof a)return!!this.find(a).n;a=a instanceof JAX.Node?a:JAX(a);if(a.n)return this._node.contains(a.n);console.error("JAX.Element.contains: For first argument I expected html element, text node, string with CSS3 compatible selector or JAX.Node.");return!1};
JAX.Document.prototype.size=function(a){if(1<arguments.length)return console.error("I am so sorry, but you can not set "+a+" of document node.",this._node),this;switch(a){case "width":return Math.max(this._node.body.scrollWidth,this._node.documentElement.scrollWidth,this._node.body.offsetWidth,this._node.documentElement.offsetWidth,this._node.body.clientWidth,this._node.documentElement.clientWidth);case "height":return Math.max(this._node.body.scrollHeight,this._node.documentElement.scrollHeight,
this._node.body.offsetHeight,this._node.documentElement.offsetHeight,this._node.body.clientHeight,this._node.documentElement.clientHeight);default:return console.error("You gave me an unsupported size type. I expected 'width' or 'height'.",this._node),0}};JAX.DocumentFragment=function(a){this.__parent__.call(this,a);this.isSearchable=this.isMoveable=this.canHaveChildren=this.isDocumentFragment=!0};JAX.extend(JAX.DocumentFragment,JAX.Node);
JAX.mixin(JAX.DocumentFragment,[JAX.INodeWithChildren,JAX.IMoveableNode,JAX.ISearchableNode]);JAX.DocumentFragment.prototype.remove=function(){console.error("You can not remove documentFragment node.");return this};JAX.DocumentFragment.prototype.swapPlaceWith=function(){console.error("You can not switch place with documentFragment node. Use replaceWith() method instead this.");return this};
JAX.DocumentFragment.prototype.isIn=function(){console.error("DocumentFragment can not be in DOM. Do not used method isIn().");return!1};JAX.DocumentFragment.prototype.parent=function(){console.error("DocumentFragment can not be in DOM. Do not used method parent(). It is always null.");return null};JAX.DocumentFragment.prototype.next=function(){console.error("DocumentFragment can not be in DOM. Do not used method next(). It is always null.");return null};
JAX.DocumentFragment.prototype.previous=function(){console.error("DocumentFragment can not be in DOM. Do not used method previous(). It is always null.");return null};JAX.NullNode=function(a){this.__parent__.call(this,null);this._selector=a||"";this.jaxNodeType=JAX.NULL;this.isNull=!0;this.canHaveChildren=this.isRemoveable=this.isMoveable=this.isScrollable=this.isListenable=this.isSearchable=!1};JAX.extend(JAX.NullNode,JAX.Node);
JAX.mixin(JAX.NullNode,[JAX.IMoveableNode,JAX.INodeWithChildren,JAX.IListening,JAX.ISearchableNode,JAX.IAnimateableNode,JAX.IScrollableNode]);JAX.NullNode.prototype.find=function(){this._showMessage("find",Array.prototype.slice.call(arguments));return JAX(null)};JAX.NullNode.prototype.findAll=function(){this._showMessage("findAll",Array.prototype.slice.call(arguments));return new JAX.NodeArray([])};
JAX.NullNode.prototype.addClass=function(){this._showMessage("addClass",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.removeClass=function(){this._showMessage("removeClass",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.hasClass=function(){this._showMessage("hasClass",Array.prototype.slice.call(arguments));return!1};JAX.NullNode.prototype.toggleClass=function(){this._showMessage("toggleClass",Array.prototype.slice.call(arguments));return this};
JAX.NullNode.prototype.id=function(){this._showMessage("id",Array.prototype.slice.call(arguments));return arguments.length?this:""};JAX.NullNode.prototype.html=function(){this._showMessage("html",Array.prototype.slice.call(arguments));return arguments.length?this:""};JAX.NullNode.prototype.text=function(){this._showMessage("text",Array.prototype.slice.call(arguments));return arguments.length?this:""};
JAX.NullNode.prototype.add=function(){this._showMessage("add",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.insertFirst=function(){this._showMessage("inserFirst",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.insertFirstTo=function(){this._showMessage("inserFirstTo",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.addBefore=function(){this._showMessage("addBefore",Array.prototype.slice.call(arguments));return this};
JAX.NullNode.prototype.appendTo=function(){this._showMessage("appendTo",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.before=function(){this._showMessage("before",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.after=function(){this._showMessage("after",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.replaceWith=function(){this._showMessage("replaceWith",Array.prototype.slice.call(arguments));return this};
JAX.NullNode.prototype.swapPlaceWith=function(){this._showMessage("swapPlaceWith",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.remove=function(){this._showMessage("remove",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.clone=function(){this._showMessage("clone",Array.prototype.slice.call(arguments));return this};
JAX.NullNode.prototype.listen=function(){this._showMessage("listen",Array.prototype.slice.call(arguments));return new JAX.Listener(this,null,arguments[0],arguments[2])};JAX.NullNode.prototype.stopListening=function(){this._showMessage("stopListening",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.prop=function(){this._showMessage("prop",Array.prototype.slice.call(arguments));return"string"==typeof arguments[0]?"":arguments[0]instanceof Array?{}:this};
JAX.NullNode.prototype.attr=function(){this._showMessage("attr",Array.prototype.slice.call(arguments));return"string"==typeof arguments[0]?"":arguments[0]instanceof Array?{}:this};JAX.NullNode.prototype.removeAttr=function(){this._showMessage("removeAttr",Array.prototype.slice.call(arguments));return this};JAX.NullNode.prototype.css=function(){this._showMessage("css",Array.prototype.slice.call(arguments));return"string"==typeof arguments[0]?"":arguments[0]instanceof Array?{}:this};
JAX.NullNode.prototype.computedCss=function(){this._showMessage("computedCss",Array.prototype.slice.call(arguments));return typeof arguments[0]?"":{}};JAX.NullNode.prototype.fullSize=function(){this._showMessage("fullSize",Array.prototype.slice.call(arguments));return 1==arguments.length?0:this};JAX.NullNode.prototype.size=function(){this._showMessage("size",Array.prototype.slice.call(arguments));return 1==arguments.length?0:this};
JAX.NullNode.prototype.parent=function(){this._showMessage("parent",Array.prototype.slice.call(arguments));return null};JAX.NullNode.prototype.next=function(){this._showMessage("next",Array.prototype.slice.call(arguments));return null};JAX.NullNode.prototype.previous=function(){this._showMessage("previous",Array.prototype.slice.call(arguments));return null};JAX.NullNode.prototype.children=function(){this._showMessage("children",Array.prototype.slice.call(arguments));return arguments.length?null:new JAX.NodeArray([])};
JAX.NullNode.prototype.elements=function(){this._showMessage("elements",Array.prototype.slice.call(arguments));return arguments.length?null:new JAX.NodeArray([])};JAX.NullNode.prototype.first=function(){this._showMessage("first",Array.prototype.slice.call(arguments));return null};JAX.NullNode.prototype.last=function(){this._showMessage("last",Array.prototype.slice.call(arguments));return null};
JAX.NullNode.prototype.clear=function(){this._showMessage("clear",Array.prototype.slice.call(arguments));return null};JAX.NullNode.prototype.eq=function(){this._showMessage("eq",Array.prototype.slice.call(arguments));return!1};JAX.NullNode.prototype.contains=function(){this._showMessage("contains",Array.prototype.slice.call(arguments));return!1};JAX.NullNode.prototype.isIn=function(){this._showMessage("isIn",Array.prototype.slice.call(arguments));return!1};
JAX.NullNode.prototype.animate=function(){this._showMessage("animate",Array.prototype.slice.call(arguments));return new JAX.FX(null)};JAX.NullNode.prototype.fade=function(){this._showMessage("fade",Array.prototype.slice.call(arguments));return new JAX.FX(null)};JAX.NullNode.prototype.fadeTo=function(){this._showMessage("fadeTo",Array.prototype.slice.call(arguments));return new JAX.FX(null)};JAX.NullNode.prototype.slide=function(){this._showMessage("slide",Array.prototype.slice.call(arguments));return new JAX.FX(null)};
JAX.NullNode.prototype.scroll=function(){this._showMessage("scroll",Array.prototype.slice.call(arguments));return new JAX.FX.Scrolling(null)};
JAX.NullNode.prototype._showMessage=function(a,b){for(var c="",d=0,e=b.length;d<e;d++){d&&(c+=", ");try{c+=JSON.stringify(b[d])}catch(f){c+="probably cyclic object"}}this._selector?console.error("Hey man! You are trying to call '"+a+"("+c+")' for null node. There is no match for your selector: '"+this._selector+"'."):console.error("Shit, it's screwed up! You are trying to call '"+a+"("+c+")' for object that is not node (probably it is null or undefined).")};
JAX.Window=function(a){this.__parent__.call(this,a);this.jaxNodeType=JAX.WINDOW;this.isScrollable=this.isListenable=this.isWindow=!0};JAX.extend(JAX.Window,JAX.Node);JAX.mixin(JAX.Window,[JAX.IListening,JAX.IScrollableNode]);
JAX.Window.prototype.size=function(a){if(1<arguments.length)return console.error("I am so sorry, but you can not set "+a+" of document node.",this._node),this;"width"!=a&&"height"!=a&&console.error("You gave me an unsupported size type. I expected 'width' or 'height'.",this._node);if("innerWidth"in window)return"width"==a?window.innerWidth:window.innerHeight;if("clientWidth"in document.documentElement)return"width"==a?document.documentElement.clientWidth:document.documentElement.clientHeight;if("clientWidth"in
document.body)return"width"==a?document.body.clientWidth:document.body.clientHeight;console.error("You have probably unsupported browser.",this._node);return 0};JAX.NodeArray=function(a){this.length=a.length;for(var b=0;b<this.length;b++){var c=a[b],c=c instanceof JAX.Node?c:JAX(c);this[b]=c}};JAX.mixin(JAX.NodeArray,JAX.IIterable);
JAX.NodeArray.prototype.find=function(a){for(var b=0;b<this.length;b++){var c=this[b],d=c.n,e=d.parentNode;if(c.isSearchable&&(e?c=JAX(e).find(a):(e=document.createDocumentFragment(),e.appendChild(d),c=JAX(e).find(a),e.removeChild(d)),c.n))return c}return JAX(null)};
JAX.NodeArray.prototype.findAll=function(a){for(var b=[],c=[],d=[],e=0;e<this.length;e++){var f=this[e],h=f.n,g=h.parentNode;f.isSearchable&&(g?-1==c.indexOf(g)&&c.push(g):(g=document.createDocumentFragment(),g.appendChild(h),d.push(g)))}e=0;for(f=c.length;e<f;e++)for(var g=c[e],h=g.querySelectorAll(a),k=0,m=h.length;k<m;k++){for(var n=h[k],u=!1,q=0,s=b.length;q<s;q++)if(b[q]==n||b[--s]==n){u=!0;break}u||b.push(n)}e=0;for(f=d.length;e<f;e++){g=d[e];h=g.querySelectorAll(a);k=0;for(m=h.length;k<m;k++){n=
h[k];u=!1;q=0;for(s=b.length;q<s;q++)if(b[q]==n||b[--s]==n){u=!0;break}u||b.push(n)}g.removeChild(g.firstChild)}return new JAX.NodeArray(b)};JAX.NodeArray.prototype.pushItem=function(a){a=a instanceof JAX.Node?a:JAX(a);this.length++;this[this.length-1]=a;return this};JAX.NodeArray.prototype.unshiftItem=function(a){a=a instanceof JAX.Node?a:JAX(a);this.length++;for(var b=this.length-1;0<b;b--)this[b]=this[b-1];this[0]=a;return this};
JAX.NodeArray.prototype.limit=function(a,b){return new JAX.NodeArray(this.items.apply(this,arguments))};JAX.NodeArray.prototype.index=function(a){a=(a instanceof JAX.Node?a:JAX(a)).n;for(var b=0;b<this.length;b++)if(this[b].n==a)return b;return-1};JAX.NodeArray.prototype.filterItems=function(a,b){a=b?a.bind(b):a;for(var c=[],d=0;d<this.length;d++){var e=this[d];a(e,d,this)&&c.push(e)}return new JAX.NodeArray(c)};
JAX.NodeArray.prototype.forEachElm=function(a,b){a=b?a.bind(b):a;for(var c=0;c<this.length;c++){var d=this[c];d.isElement&&a(d,c,this)}return this};JAX.NodeArray.prototype.filterElms=function(a,b){a=b?a.bind(b):a;for(var c=[],d=0;d<this.length;d++){var e=this[d];e.isElement&&a(e,d,this)&&c.push(e)}return JAX.all(c)};JAX.NodeArray.prototype.addClass=function(a){for(var b=0;b<this.length;b++)this[b].isElement&&this[b].addClass(a);return this};
JAX.NodeArray.prototype.haveClass=function(a){for(var b=0;b<this.length;b++)if(this[b].isElement&&!this[b].hasClass(a))return!1;return!0};JAX.NodeArray.prototype.toggleClass=function(a){for(var b=0;b<this.length;b++)this[b].isElement&&this[b].toggleClass(a);return this};JAX.NodeArray.prototype.removeClass=function(a){for(var b=0;b<this.length;b++)this[b].isElement&&this[b].removeClass(a);return this};
JAX.NodeArray.prototype.html=function(a){for(var b=0;b<this.length;b++)this[b].isElement&&this[b].html(a);return this};JAX.NodeArray.prototype.attr=function(a,b){var c=arguments.length;if(1==c&&(!a||"object"!=typeof a||a instanceof Array))return this;if(1<c&&("string"==typeof a||a instanceof Array))b+="";for(var d=0;d<this.length;d++){var e=this[d];e.isElement&&(1==c?e.attr(a):2==c&&e.attr(a,b))}return this};
JAX.NodeArray.prototype.removeAttr=function(a){for(var b=0;b<this.length;b++){var c=this[b];c.isElement&&c.removeAttr(a)}return this};JAX.NodeArray.prototype.css=function(a,b){var c=arguments.length;if(1==c&&(!a||"object"!=typeof a||a instanceof Array))return this;if(1<c&&("string"==typeof a||a instanceof Array))b+="";for(var d=0;d<this.length;d++){var e=this[d];e.isElement&&(1==c?e.css(a):2==c&&e.css(a,b))}return this};
JAX.NodeArray.prototype.prop=function(a,b){var c=arguments.length;if(1==c&&(!a||"object"!=typeof a||a instanceof Array))return this;if(1<c&&("string"==typeof a||a instanceof Array))b+="";for(var d=0;d<this.length;d++){var e=this[d];1==c?e.prop(a):2==c&&e.prop(a,b)}return this};JAX.NodeArray.prototype.appendTo=function(a){for(var b=0;b<this.length;b++)this[b].isMoveable&&this[b].appendTo(a);return this};
JAX.NodeArray.prototype.insertFirstTo=function(a){for(var b=this.length-1;0<=b;b--)this[b].isMoveable&&this[b].insertFirstTo(a);return this};JAX.NodeArray.prototype.before=function(a){for(var b=0;b<this.length;b++)this[b].isMoveable&&this[b].before(a);return this};JAX.NodeArray.prototype.remove=function(){for(var a=0;a<this.length;a++){var b=this[a];b.isRemoveable&&b.remove()}return this};
JAX.NodeArray.prototype.areIn=function(a){for(var b=0;b<this.length;b++)if(item.isMoveable&&!this[b].isIn(a))return!1;return!0};JAX.NodeArray.prototype.listen=function(a,b,c,d){for(var e=Array(this.length),f=0;f<this.length;f++){var h=this[f];h.isListenable&&(e[f]=h.listen.apply(h,arguments))}return new JAX.ListenerArray(e)};JAX.NodeArray.prototype.stopListening=function(a){for(var b=0;b<this.length;b++){var c=this[b];c.isListenable&&c.stopListening(a)}return this};
JAX.NodeArray.prototype.firstElement=function(){for(var a=0;a<this.length;a++){var b=this[a];if(b.isElement)return b}return null};JAX.NodeArray.prototype.lastElement=function(){for(var a=this.length-1;0<=a;a--){var b=this[a];if(b.isElement)return b}return null};JAX.NodeArray.prototype.clear=function(){for(var a=this.length-1;0<=a;a--){var b=this[a];(b.canHaveChildren||b.isText)&&b.clear()}return this};
JAX.NodeArray.prototype.animate=function(a,b,c,d){for(var e=Array(this.length),f=0;f<this.length;f++){var h=this[f];h.isElement&&(e[f]=h.animate.apply(h,arguments))}return new JAX.FXArray(e)};JAX.NodeArray.prototype.fade=function(a,b){for(var c=Array(this.length),d=0;d<this.length;d++){var e=this[d];e.isElement&&(c[d]=e.fade.apply(e,arguments))}return new JAX.FXArray(c)};
JAX.NodeArray.prototype.fadeTo=function(a,b){for(var c=Array(this.length),d=0;d<this.length;d++){var e=this[d];e.isElement&&(c[d]=e.fadeTo.apply(e,arguments))}return new JAX.FXArray(c)};JAX.NodeArray.prototype.slide=function(a,b){for(var c=Array(this.length),d=0;d<this.length;d++){var e=this[d];e.isElement&&(c[d]=e.slide.apply(e,arguments))}return new JAX.FXArray(c)};
JAX.NodeArray.prototype.scroll=function(a,b,c){for(var d=Array(this.length),e=0;e<this.length;e++){var f=this[e];f.isScrollable&&(d[e]=f.scroll.apply(f,arguments))}return new JAX.FXArray(d)};
JAX.FX=function(a){this._jaxElm=a instanceof JAX.Node?a:JAX(a);this._canBeAnimated=this._jaxElm.isElement;this._jaxElm.n||console.error("JAX.FX: I got null node. Check your code please.");this._jaxElm.isElement||console.error("JAX.FX: I got node that can not be animated.");this._settings=[];this._running=this._reversed=this._wasRun=!1;this._currentTime=this._startTime=this._maxDuration=0;this._promise={finished:null};this._processor=null};JAX.FX.isCSS3Supported=null;
(function(){var a=document.createElement("div").style;JAX.FX.isCSS3Supported="transition"in a||"MozTransition"in a||"WebkitTransition"in a||"OTransition"in a||"MSTransition"in a})();JAX.FX.TRANSFORM="";(function(){for(var a=["transform","WebkitTransform","OTransform","MozTransform","MSTransform"],b=0,c=a.length;b<c;b++){var d=a[b];if(d in document.createElement("div").style){JAX.FX.TRANSFORM=d;break}}})();
JAX.FX._SUPPORTED_PROPERTIES={width:{defaultUnit:"px"},maxWidth:{defaultUnit:"px"},minWidth:{defaultUnit:"px"},height:{defaultUnit:"px"},maxHeight:{defaultUnit:"px"},minHeight:{defaultUnit:"px"},top:{defaultUnit:"px"},left:{defaultUnit:"px"},bottom:{defaultUnit:"px"},right:{defaultUnit:"px"},paddingTop:{defaultUnit:"px"},paddingBottom:{defaultUnit:"px"},paddingLeft:{defaultUnit:"px"},paddingRight:{defaultUnit:"px"},marginTop:{defaultUnit:"px"},marginBottom:{defaultUnit:"px"},marginLeft:{defaultUnit:"px"},
marginRight:{defaultUnit:"px"},fontSize:{defaultUnit:"px"},transform:{defaultUnit:""},WebkitTransform:{defaultUnit:""},MozTransform:{defaultUnit:""},MSTransform:{defaultUnit:""},OTransform:{defaultUnit:""},opacity:{defaultUnit:""},color:{defaultUnit:""},backgroundColor:{defaultUnit:""}};JAX.FX._SUPPORTED_METHODS="ease linear ease-in ease-out ease-in-out cubic-bezier".split(" ");
JAX.FX.prototype.addProperty=function(a,b,c,d,e){if(!this._canBeAnimated)return this;var f=this._parseValue(b);b=this._parseUnit(b)||"ms";e=JAX.FX.isCSS3Supported?e||"linear":"LINEAR";if("string"!=typeof a)return console.error("JAX.FX.addProperty: For first argument I expected string"),this;if(!(a in JAX.FX._SUPPORTED_PROPERTIES))return console.error("JAX.FX.addProperty: First argument must be supported property. You are trying to give me '"+a+"' which is unsupoorted."),this;if(!isFinite(f)||0>f)return console.error("JAX.FX.addProperty: For second argument I expected positive number"),
this;if(c&&"string"!=typeof c&&("number"!=typeof c||!isFinite(c)))return console.error("JAX.FX.addProperty: For third argument I expected string, number or null for automatic checking"),this;if(d&&"string"!=typeof d&&("number"!=typeof d||!isFinite(d)))return console.error("JAX.FX.addProperty: For fourth argument I expected string or number"),this;if(null==c&&null==d)return console.error("JAX.FX.addProperty: At least one of start and end values must be defined."),this;if("string"!=typeof e)return console.error("JAX.FX.addProperty: For fifth argument I expected string"),
this;-1==JAX.FX._SUPPORTED_METHODS.indexOf(e.toLowerCase())&&0!=e.toLowerCase().indexOf("cubic-bezier")&&(console.error("JAX.FX.addProperty: Fifth argument must be supported method. You are trying to give me '"+e+"' which is unsupoorted."),e=JAX.FX.isCSS3Supported?"linear":"LINEAR");d=d||"number"==typeof d&&isFinite(d)?this._parseCSSValue(a,d):this._foundCSSValue(a);c=c||"number"==typeof c&&isFinite(c)?this._parseCSSValue(a,c):this._foundCSSValue(a);b={value:"ms"==b?f:1E3*f,unit:"ms"};this._maxDuration=
Math.max(b.value,this._maxDuration);this._settings.push({property:a,startValue:c.value,startUnit:c.unit,endValue:d.value,endUnit:d.unit,durationValue:b.value,durationUnit:b.unit,method:e});return this};
JAX.FX.prototype.addTranslateProperty=function(a,b,c,d){if(!this._canBeAnimated)return this;if(!JAX.FX.isCSS3Supported){var e={x:"left",y:"top",z:""},f;for(f in b){var h=e[f];h&&this.addProperty(h,a,b[f],c[f],d)}console.info("JAX.FX.addTranslateProperty: There is no CSS3 transition support. I will use top or left instead of transform attribute. Element should have non-static position.");return this}var e={x:"translateX(%v)",y:"translateY(%v)",z:"translateZ(%v)"},g=[];for(f in b){var k=this._parseValue(b[f]||
0),m=this._parseUnit(b[f]||0)||"px";(h=e[f])&&g.push(h.replace("%v",k+m))}if(!g.length)return console.error("JAX.FX.addTranslateProperty: I got unsupported start translate axis. Supported: x, y or z."),this;b=g.join(" ");g=[];for(f in c)k=this._parseValue(c[f]||0),m=this._parseUnit(c[f]||0)||"px",(h=e[f])&&g.push(h.replace("%v",k+m));if(!g.length)return console.error("JAX.FX.addTranslateProperty: I got unsupported end translate axis. Supported: x, y or z."),this;c=g.join(" ");this.addProperty(JAX.FX.TRANSFORM,
a,b,c,d);return this};
JAX.FX.prototype.run=function(){if(!this._canBeAnimated)return new JAK.Promise.reject(this._jaxElm);if(this.isRunning())return this._promise.finished;if(!this._settings.length)return this._promise.finished=(new JAK.Promise).reject(this._jaxElm),console.error("JAX.FX.run: I have no added properties. FX will not run."),this;this._processor=JAX.FX.isCSS3Supported?new JAX.FX.CSS3(this._jaxElm):new JAX.FX.Interpolator(this._jaxElm);this._processor.set(this._settings);this._wasRun=this._running=!0;this._startTime=
(new Date).getTime();this._promise.finished=this._processor.run();this._promise.finished.then(this._finishAnimation.bind(this),this._finishAnimation.bind(this));return this._promise.finished};JAX.FX.prototype.then=function(a,b){return this._promise.finished.then(a,b)};
JAX.FX.prototype.reverse=function(){if(!this._canBeAnimated)return new JAK.Promise.reject(this._jaxElm);if(!this._wasRun)return this.run();this.isRunning()&&this.stop();if(!this._settings.length)return this._promise.finished=(new JAK.Promise).reject(this._jaxElm),console.error("JAX.FX.reverse: I have no added properties. FX will not run in reversed mode."),this;this._reversed=!this._reversed;for(var a=[],b=0,c=this._settings.length;b<c;b++){var d=this._settings[b],e=d.property,f=d.method,h=this._parseCSSValue(e,
this._jaxElm.computedCss(this._styleToCSSProperty(e))),g=h.value,h=h.unit,k=d.durationUnit;if(this._reversed)var m=Math.min(this._currentTime,d.durationValue),n=d.startValue,d=d.startUnit;else m=Math.max(d.durationValue-this._currentTime,0),n=d.endValue,d=d.endUnit;a.push({property:e,startValue:g,startUnit:h,endValue:n,endUnit:d,durationValue:m,durationUnit:k,method:f})}this._processor=JAX.FX.isCSS3Supported?new JAX.FX.CSS3(this._jaxElm):new JAX.FX.Interpolator(this._jaxElm);this._processor.set(a);
this._running=!0;this._startTime=(new Date).getTime();this._promise.finished=this._processor.run();this._promise.finished.then(this._finishAnimation.bind(this),this._finishAnimation.bind(this));return this._promise.finished};JAX.FX.prototype.isRunning=function(){return this._running};JAX.FX.prototype.stop=function(){this._running&&this._processor.stop();return this};
JAX.FX.prototype._parseCSSValue=function(a,b){var c=JAX.FX._SUPPORTED_PROPERTIES[a].defaultUnit;if("backgroundColor"==a||"color"==a||-1<a.toLowerCase().indexOf("transform"))var d=b;else d=this._parseValue(b),c=this._parseUnit(b)||c;return{value:d,unit:c}};JAX.FX.prototype._parseValue=function(a){return parseFloat(a)};JAX.FX.prototype._parseUnit=function(a){var b=parseFloat(a);return(a+"").replace(b,"")};
JAX.FX.prototype._foundCSSValue=function(a){var b=JAX.FX._SUPPORTED_PROPERTIES[a].defaultUnit;switch(a){case "width":case "height":a=this._jaxElm.size(a);break;case "backgroundColor":case "color":a=this._jaxElm.computedCss(this._styleToCSSProperty(a));break;default:a=this._jaxElm.computedCss(this._styleToCSSProperty(a)),a=parseFloat(a)}return{value:a,unit:b}};
JAX.FX.prototype._finishAnimation=function(){var a=(new Date).getTime()-this._startTime;this._reversed?(this._currentTime-=a,this._currentTime=Math.max(this._currentTime,0)):(this._currentTime+=a,this._currentTime=Math.min(this._currentTime,this._maxDuration));this._startTime=0;this._isRunning=!1};JAX.FX.prototype._styleToCSSProperty=function(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()})};
JAX.FXArray=function(a){this.length=a.length;for(var b=0;b<this.length;b++)this[b]=a[b]};JAX.mixin(JAX.FXArray,JAX.IIterable);JAX.FXArray.prototype.run=function(){for(var a=0;a<this.length;a++)this[a].run();return this};JAX.FXArray.prototype.then=function(a,b){for(var c=Array(this.length),d=function(a){return a},e=0;e<this.length;e++)c[e]=this[e].then(d,d);return JAK.Promise.when(c).then(function(b){b=new JAX.NodeArray(b);a(b)},function(a){a=new JAX.NodeArray(a);b(a)})};
JAX.FXArray.prototype.stop=function(){for(var a=0;a<this.length;a++)this[a].stop();return this};JAX.FXArray.prototype.reverse=function(){for(var a=0;a<this.length;a++)this[a].reverse();return this};JAX.FX.CSS3=function(a){this._jaxElm=a instanceof JAX.Node?a:JAX(a);this._settings=[];this._transitionCount=this._maxDuration=0;this._ecTransition=null;this._promise={finished:null}};JAX.FX.CSS3._TRANSITION_PROPERTY="";JAX.FX.CSS3._TRANSITION_EVENT="";
(function(){if("and"==JAK.Browser.platform&&"WebkitTransition"in document.createElement("div").style)JAX.FX.CSS3._TRANSITION_PROPERTY="WebkitTransition",JAX.FX.CSS3._TRANSITION_EVENT="webkitTransitionEnd";else{var a={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",MozTransition:"transitionend",MSTransition:"MSTransitionEnd"},b;for(b in a)if(b in document.createElement("div").style){JAX.FX.CSS3._TRANSITION_PROPERTY=b;JAX.FX.CSS3._TRANSITION_EVENT=a[b];
break}}})();JAX.FX.CSS3.prototype.set=function(a){this._settings=a};
JAX.FX.CSS3.prototype.run=function(){this._promise.finished=new JAK.Promise;for(var a=JAX.FX.CSS3._TRANSITION_PROPERTY,b=JAX.FX.CSS3._TRANSITION_EVENT,c=[],d=this._jaxElm.node(),e=d.style,f=0,h=this._settings.length;f<h;f++){var g=this._settings[f],k=g.startValue+g.startUnit,m=this._styleToCSSProperty(g.property)+" "+g.durationValue+g.durationUnit+" "+g.method;this._maxDuration=Math.max(this._maxDuration,g.durationValue);e[g.property]=k;c.push(m);this._transitionCount++}setTimeout(function(){d.style[a]=
c.join(",");this._ecTransition=this._jaxElm.listen(b,this,"_finishTransitionAnimation");for(var f=0,g=this._settings.length;f<g;f++){var h=this._settings[f];e[h.property]=h.endValue+h.endUnit}}.bind(this),0);return this._promise.finished};
JAX.FX.CSS3.prototype.stop=function(){for(var a=this._jaxElm.node(),b=a.style,c=0,d=this._settings.length;c<d;c++){var e=this._settings[c].property,f=window.getComputedStyle(a).getPropertyValue(this._styleToCSSProperty(e));b[e]=f}for(;this._transitionCount;)this._endTransition();this._promise.finished.reject(this._jaxElm)};
JAX.FX.CSS3.prototype._endTransition=function(){this._transitionCount&&(this._transitionCount--,this._transitionCount||(this._ecTransition.unregister(),this._ecTransition=null,this._jaxElm.node().style[JAX.FX.CSS3._TRANSITION_PROPERTY]=""))};JAX.FX.CSS3.prototype._finishTransitionAnimation=function(){this._endTransition();this._transitionCount||this._promise.finished.fulfill(this._jaxElm)};JAX.FX.CSS3.prototype._styleToCSSProperty=function(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()})};
(function(){if(!JAK||!JAK.CSSInterpolator||2>parseFloat(JAK.CSSInterpolator.VERSION))throw Error("Fatal error: JAK.CSSInterpolator was not found.");})();JAX.FX.Interpolator=function(a){this._jaxElm=a instanceof JAX.Node?a:JAX(a);this._interpolators=[];this._interpolatorsCount=0;this._settings=[];this._promise={finished:null}};JAX.FX.Interpolator.prototype.set=function(a){this._settings=a};
JAX.FX.Interpolator.prototype.run=function(){this._promise.finished=new JAK.Promise;this._interpolators=[];this._start();return this._promise.finished};JAX.FX.Interpolator.prototype.stop=function(){for(var a=0,b=this._interpolators.length;a<b;a++)this._destroyInterpolator(a);this._promise.finished.reject(this._jaxElm)};
JAX.FX.Interpolator.prototype._start=function(){for(var a=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=c.durationValue,d=new JAK.CSSInterpolator(this._jaxElm.node(),d,{interpolation:c.method,endCallback:this._endInterpolator.bind(this,a)});this._interpolators.push(d);if(-1!=["backgroundColor","color"].indexOf(c.property))d.addColorProperty(c.property,c.startValue,c.endValue);else if(c.startUnit!=c.endUnit){var e=c.property,f=this._styleToCSSProperty(e),h=this._jaxElm.css(e);this._jaxElm.css(e,
c.startValue+c.startUnit);var g=parseFloat(this._jaxElm.computedCss(f));this._jaxElm.css(e,c.endValue+c.endUnit);c=parseFloat(this._jaxElm.computedCss(f));this._jaxElm.css(e,h);d.addProperty(e,g,c,"px")}else d.addProperty(c.property,c.startValue,c.endValue,c.startUnit);d.start();this._interpolatorsCount++}};JAX.FX.Interpolator.prototype._endInterpolator=function(a){this._destroyInterpolator(a);this._interpolatorsCount||(this._interpolators=[],this._promise.finished.fulfill(this._jaxElm))};
JAX.FX.Interpolator.prototype._destroyInterpolator=function(a){var b=this._interpolators[a];b&&(b.stop(),this._interpolators[a]=null,this._interpolatorsCount--)};JAX.FX.Interpolator.prototype._styleToCSSProperty=function(a){return a.replace(/([A-Z])/g,function(a,c){return"-"+c.toLowerCase()})};(function(){if(!JAK||!JAK.Interpolator||2.1>parseFloat(JAK.Interpolator.VERSION))throw Error("Fatal error: JAK.Interpolator was not found.");})();
JAX.FX.Scrolling=function(a){this._jaxElm=a instanceof JAX.Node?a:JAX(a);this._settings=[];this._promises={animationFinished:null};this._currentTime=this._startTime=this._maxDuration=0;this._interpolators=[];this._runningInterpolatorCount=0;this._isRunning=this._reversed=!1;this._onScrollingFinished=this._onScrollingFinished.bind(this)};
JAX.FX.Scrolling.prototype.addProperty=function(a,b,c){if("left"!=a&&"top"!=a)return console.error("JAX.FX.Scrolling: You are trying to use unsupported property: "+a+".",this._jaxElm.node()),this;if(!isFinite(parseFloat(c)))return console.error("JAX.FX.Scrolling: Duration must be number! You gave me "+typeof c+".",this._jaxElm.node()),this;this._settings.push({property:a,defValue:null,value:b,duration:c});this._maxDuration=Math.max(this._maxDuration,c);return this};
JAX.FX.Scrolling.prototype.run=function(){if(this._promises.animationFinished)return this._promises.animationFinished;this._promises.animationFinished=new JAK.Promise;for(var a=this._runningInterpolatorCount=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=this._jaxElm.scroll(c.property);c.defValue=d;this._startInterval(c.property,c.value,c.duration)}this._isRunning=!0;this._reversed=!1;this._startTime=(new Date).getTime();return this._promises.animationFinished};
JAX.FX.Scrolling.prototype.then=function(a,b){return this._promises.animationFinished.then(a,b)};JAX.FX.Scrolling.prototype.stop=function(){if(!this._isRunning)return this;for(;this._runningInterpolatorCount;)this._onScrollingFinished();return this};
JAX.FX.Scrolling.prototype.reverse=function(){this._isRunning&&this.stop();this._reversed=!this._reversed;this._promises.animationFinished=new JAK.Promise;for(var a=this._runningInterpolatorCount=0,b=this._settings.length;a<b;a++){var c=this._settings[a],d=this._reversed?Math.min(c.duration,this._currentTime):Math.max(c.duration-this._currentTime,0);this._startInterval(c.property,this._reversed?c.defValue:c.value,d)}this._isRunning=!0;this._startTime=(new Date).getTime();return this._promises.animationFinished};
JAX.FX.Scrolling.prototype.isRunning=function(){return this._isRunning};JAX.FX.Scrolling.prototype._startInterval=function(a,b,c){var d=this._jaxElm.scroll(a),e=function(b){this._jaxElm.scroll(a,b)}.bind(this);b=new JAK.Interpolator(d,b,c,e,{endCallback:this._onScrollingFinished});b.start();this._interpolators.push(b);this._runningInterpolatorCount++};
JAX.FX.Scrolling.prototype._onScrollingFinished=function(){this._runningInterpolatorCount--;if(!this._runningInterpolatorCount){this._interpolators=[];var a=(new Date).getTime()-this._startTime;this._reversed?(this._currentTime-=a,this._currentTime=Math.max(this._currentTime,0)):(this._currentTime+=a,this._currentTime=Math.min(this._currentTime,this._maxDuration));this._startTime=0;this._isRunning=!1;this._promises.animationFinished.fulfill(this._jaxElm);this._promises.animationFinished=null}};
